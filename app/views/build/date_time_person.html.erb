<header class="fixed top-0 left-0 z-50 w-full px-3 py-2 bg-white drop-shadow md:flex md-items-center md:justify-between">
  <div class="flex items-center justify-between w-full px-4">
    <div class="w-40 md:w-1/4 lg:w-1/8 xl:w-1/12">
      <%= link_to root_path, class: "block" do %>
        <%= image_tag "logo_column.png", class: "w-full align-middle" %>
      <% end %>
    </div>

    <div data-controller="hamburger" class="flex items-center md:hidden">
      <label class="flex px-4 py-4" data-action="click->hamburger#switch">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="items-center inline-block w-8 h-8 border stroke-current">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </label>

      <ul tabindex="0" class="hidden menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 w-28 place-content-center absolute top-20 right-0" data-hamburger-target="nav">
        <li><a href="#" class="block p-4 py-3">餐廳介紹</a></li>
        <li><a href="#booking" class="block p-4 py-3">立即訂位</a></li>
        <li><a href="#" class="block p-4 py-3">美食菜單</a></li>
      </ul>
    </div>
    <div class="hidden md:flex">
      <ul class="items-center hidden md:flex">
        <li><a href="#" class="block p-4 py-3">餐廳介紹</a></li>
        <li><a href="#booking" class="block p-4 py-3">立即訂位</a></li>
        <li><a href="#" class="block p-4 py-3">美食菜單</a></li>
      </ul>
    </div>
  </div>
</header>
<!--main-->
<div class="max-w-[85rem] px-4 py-4 md:px-6 xl:px-8 mt-1 mx-auto">
  <div class="flex aspect-w-16 aspect-h-7">
    <%= image_tag (@restaurant.image_url) if @restaurant.image? %>
  </div>

</div>
<!--餐廳資訊-->
<div class="mx-12 my-8 lg:my-8 lg:mx-28">
  <h1 class="m-6 text-2xl font-bold text-green"><%= @restaurant.name %></h1>
  <p class="m-6"><i class="fa-solid fa-thumbs-up"> 4.0 <a href="" class="underline hover:text-blue-400">58 則評論</a></i></p>
  <p class="m-6"><%= @restaurant.address %></p>
  <p class="m-6"><i class="fa-solid fa-phone"></i> <%= @restaurant.tel %></p>
  <hr>
  <p class="m-6 text-lg text-gray-900 dark:text-white"><%= @restaurant.description %></p>
  <hr>
</div>
<!--可選日期時間-->

<!--訂位-->
<div id="booking" class="m-auto mx-12 my-8 lg:my-8 lg:mx-28" name="booking">
  <%= form_with url:wizard_path, method: :patch, data: { turbo: false } do |f| %>
    <div class="my-6">
      <div class="flex flex-col justify-between gap-4 sm:flex-row">
        <div class="w-full sm:w-1/2 sm:mb-0">
          <%= f.label :adults, '大人數',class:"block mr-2 text-sm text-gray-00" %>
          <%= f.number_field :adults, value: session.dig(:first_step_data, 'adults'), class:"h-9 w-full px-5 py-1 text-gray-700 bg-gray-200 rounded", min: 1 %>
        </div>
        <div class="w-full sm:w-1/2 sm:mb-0">
          <%= f.label :kids, '小孩數',class:"block mr-2 text-sm text-gray-00" %>
          <%= f.number_field :kids,
                  value: session.dig(:first_step_data, 'kids').present? ? session.dig(:first_step_data, 'kids') : 0,
                  class: "h-9 w-full px-5 py-1 text-gray-700 bg-gray-200 rounded",
                  min: 0 %>
        </div>
      </div>
    </div>
  <hr>
</div>

<section data-controller="ordertime" class="mx-4 lg:mx-28">
  <p class='w-full my-8 text-2xl font-bold text-center text-green'>選擇用餐日期</p>
  <div class="grid grid-cols-6 gap-4 my-8">
    <% @daterange.each do |date| %>
      <button class='w-32 text-xl font-medium rounded-lg unselect-btn'
              data-ordertime-target='dateBtn'
              data-action='click->ordertime#clickDate'
              data-id='<%=@restaurant.id%>'
              value='<%= date %>'
              >
        <%= date.strftime('%m/%d') %>
        <%= "(#{chinese_weekday(date)})" %>
      </button>
    <% end  %>
    <%= f.hidden_field :date, data: {ordertime_target: "dateInput"}%>
  </div>
  <hr>

  <p class='w-full my-8 text-2xl font-bold text-center text-green'>選擇用餐時間</p>
  <div class="grid grid-cols-6 gap-4 " data-ordertime-target='timeContainer'>
    <div class="flex flex-col justify-center h-32 col-span-6 m-auto my-auto text-xl font-bold">
      請先選擇訂位日期
    </div>
  </div>
  <%= f.hidden_field :time, data: {ordertime_target: "timeInput"}%>
  <%= f.submit '下一步', class: 'next-btn' %>
</section>
<% end %>